"use strict";exports.id=826,exports.ids=[826],exports.modules={80:(s,e,t)=>{t.a(s,async(s,a)=>{try{let n;t.d(e,{Z:()=>u});var i=t(3745),o=t(1492),c=s([i,o]);[i,o]=c.then?(await c)():c;let l={apiKey:process.env.FIREBASE_API_KEY,authDomain:process.env.FIREBASE_AUTH_DOMAINE,projectId:process.env.FIREBASE_PROJECT_ID,storageBucket:process.env.FIREBASE_STORAGE_BUKET,messagingSenderId:process.env.FIREBASE_MESSAGING_SENDER_ID,appId:process.env.FIREBASE_APP_ID},g=(0,i.getApps)();n=g.length?g[0]:(0,i.initializeApp)(l);let u=n;a()}catch(s){a(s)}})},7826:(s,e,t)=>{t.a(s,async(s,a)=>{try{t.d(e,{Mt:()=>createSubmissionData,qj:()=>signInWithGoogle,y1:()=>signUp,zB:()=>signIn});var i=t(1492),o=t(80),c=s([i,o]);[i,o]=c.then?(await c)():c;let n=(0,i.getFirestore)(o.Z);async function signUp(s,e){let t=(0,i.query)((0,i.collection)(n,"users"),(0,i.where)("email","==",s.email)),a=await (0,i.getDocs)(t),o=a.docs.map(s=>({id:s.id,...s.data()}));o.length>0?(console.log("masuk siniii"),console.log(s),console.log(o),e({status:!1,message:"Email already exists"})):(console.log("masuk sini"),console.log(s),console.log(s),await (0,i.addDoc)((0,i.collection)(n,"users"),s).then(()=>{e({status:!0,message:"Successfully registered"})}).catch(s=>{e({status:!1,message:s})}))}async function signIn(s){let e=(0,i.query)((0,i.collection)(n,"users"),(0,i.where)("email","==",s.email)),t=await (0,i.getDocs)(e),a=t.docs.map(s=>({id:s.id,...s.data()}));return a?a[0]:null}async function createSubmissionData(s,e){await (0,i.addDoc)((0,i.collection)(n,"submissions"),s).then(()=>{e({status:!0,message:"Successfully submitted"})}).catch(s=>{e({status:!1,message:s})})}async function signInWithGoogle(s,e){let t=(0,i.query)((0,i.collection)(n,"users"),(0,i.where)("email","==",s.email)),a=await (0,i.getDocs)(t),o=a.docs.map(s=>({id:s.id,...s.data()}));o.length>0?await (0,i.updateDoc)((0,i.doc)(n,"users",o[0].id),s).then(()=>{e({status:!0,message:"Successfully sign in with google",data:s})}).catch(()=>{e({status:!1,message:"Failed to sign in with google"})}):await (0,i.addDoc)((0,i.collection)(n,"users"),s).then(()=>{e({status:!0,message:"Successfully sign in with google",data:s})}).catch(()=>{e({status:!1,message:"Failed to sign in with google"})})}a()}catch(s){a(s)}})}};