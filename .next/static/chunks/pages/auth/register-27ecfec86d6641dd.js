(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return t(9981)}])},9981:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return register}});var r=t(5893),n=t(7294),a=t(1280),i=t.n(a),o=t(1163),l=t(489),d=t(4054),u=t(3841),c=t(89),p=t(4722),x=t(7566),h=t(2450),m=t(2961),_=t(2424),g=t.n(_),popup=e=>{let{isVisible:s,onClose:t,message:n,messageTitle:a}=e;return s?(0,r.jsx)("div",{className:g().container,children:(0,r.jsxs)("div",{className:g().box,children:[(0,r.jsx)("h1",{className:g().header,children:a}),(0,r.jsx)("div",{className:g().line}),(0,r.jsx)("ol",{className:g().content,children:(0,r.jsx)("p",{children:n})}),(0,r.jsx)("button",{className:g().closeButton,onClick:()=>t(),children:(0,r.jsx)("p",{children:"Continue"})})]})}):null},j=t(5121),w=t(1664),f=t.n(w),Register=()=>{let[e,s]=(0,n.useState)(!1),{push:t}=(0,o.useRouter)(),[a,_]=(0,n.useState)(""),[g,w]=n.useState(!1);(0,o.useRouter)();let[v,b]=(0,n.useState)(""),[N,Z]=(0,n.useState)(""),[P,C]=(0,n.useState)(""),[S,y]=n.useState(!1),handleSubmit=async e=>{if(e.preventDefault(),_(""),s(!0),!N||!v||!P||!e.target.userConfirmPassword.value){_("Please fill all fields."),s(!1);return}if(P!==e.target.userConfirmPassword.value){_("Your password and confirm password don't match."),s(!1);return}try{await j.Z.post("http://localhost:3000/users",{email:N,name:v,password:P}),s(!1),U("Successfully registered"),T("Welcome "+v+"!"),R(!0)}catch(e){s(!1),console.log(e)}},[B,R]=(0,n.useState)(!1),[k,T]=(0,n.useState)(""),[E,U]=(0,n.useState)("");return(0,r.jsx)("div",{id:"tsparticles",children:(0,r.jsxs)("main",{className:i().box,children:[(0,r.jsx)("h2",{children:"REGISTER"}),a&&(0,r.jsx)("p",{className:i().error,children:a}),(0,r.jsxs)("form",{className:i().registerForm,onSubmit:handleSubmit,method:"POST",children:[(0,r.jsx)("div",{className:i().inputBox,children:(0,r.jsx)(l.Z,{sx:{width:"26ch",marginBottom:"15px"},id:"email",label:"Email",placeholder:"Type your email",variant:"standard",value:N,onChange:e=>Z(e.target.value)})}),(0,r.jsx)("div",{className:i().inputBox,children:(0,r.jsx)(l.Z,{sx:{width:"26ch",marginBottom:"15px"},id:"userName",label:"Username",placeholder:"Type your username",variant:"standard",value:v,onChange:e=>b(e.target.value)})}),(0,r.jsx)("div",{className:i().inputBox,children:(0,r.jsxs)(d.Z,{sx:{width:"26ch",marginBottom:"15px"},variant:"standard",children:[(0,r.jsx)(u.Z,{htmlFor:"standard-adornment-password",children:"Password"}),(0,r.jsx)(c.Z,{id:"userPassword",type:g?"text":"password",placeholder:"Type your password",name:"userPassword",value:P,onChange:e=>C(e.target.value),endAdornment:(0,r.jsx)(p.Z,{position:"end",children:(0,r.jsx)(x.Z,{"aria-label":"toggle password visibility",onClick:()=>w(e=>!e),onMouseDown:e=>{e.preventDefault()},children:g?(0,r.jsx)(h.Z,{}):(0,r.jsx)(m.Z,{})})})})]})}),(0,r.jsx)("div",{className:i().inputBox,children:(0,r.jsxs)(d.Z,{sx:{width:"26ch",marginBottom:"15px"},variant:"standard",children:[(0,r.jsx)(u.Z,{htmlFor:"standard-adornment-password",children:"Confirm Password"}),(0,r.jsx)(c.Z,{id:"userConfirmPassword",type:S?"text":"password",placeholder:"Confirm your password",name:"userConfirmPassword",endAdornment:(0,r.jsx)(p.Z,{position:"end",children:(0,r.jsx)(x.Z,{"aria-label":"toggle password visibility",onClick:()=>y(e=>!e),onMouseDown:e=>{e.preventDefault()},children:S?(0,r.jsx)(h.Z,{}):(0,r.jsx)(m.Z,{})})})})]})}),(0,r.jsx)("button",{type:"submit",name:"",disabled:e,children:e?"Loading...":"Sign Up"}),(0,r.jsxs)("p",{className:i().registerText,children:["Have an account? ",(0,r.jsx)(f(),{className:i().loginLink,href:"/auth/login",children:"Login"})]})]}),(0,r.jsx)(popup,{isVisible:B,onClose:()=>{s(!1),t("/auth/login")},message:k,messageTitle:E})]})})},register=()=>(0,r.jsx)("div",{children:(0,r.jsx)(Register,{})})},2424:function(e){e.exports={container:"PopUp_container__BaysJ",box:"PopUp_box__vKo8t",header:"PopUp_header___JtuQ",line:"PopUp_line__KZG_a",content:"PopUp_content__iaXoL",closeButton:"PopUp_closeButton__O74kY"}},1280:function(e){e.exports={box:"Register_box__Czi30",inputBox:"Register_inputBox__nviw3",registerForm:"Register_registerForm__F5u7n",button:"Register_button__kMtZD",tsparticles:"Register_tsparticles___FfbR",error:"Register_error__45JxY",loginLink:"Register_loginLink__ajGBx",registerText:"Register_registerText__umfwt"}}},function(e){e.O(0,[860,121,774,888,179],function(){return e(e.s=6659)}),_N_E=e.O()}]);